{% extends 'common/base.html' %}
{% block title %}{{ bug.name }} â€“ BattleBugz{% endblock %}
{% block content %}

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <a href="{% url 'bugs:list' %}" class="btn btn-outline-secondary btn-sm">â† Back to list</a>
        <div class="d-flex gap-2">
            <a href="{% url 'bugs:edit' bug.pk %}" class="btn btn-sm btn-outline-primary">âœï¸ Edit</a>
            <a href="{% url 'bugs:delete' bug.pk %}" class="btn btn-sm btn-outline-danger">ğŸ—‘ Delete</a>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-md-4 text-center">
            <img src="{{ bug.image_url }}" class="img-fluid rounded shadow" style="max-height: 350px; object-fit: contain;" alt="{{ bug.name }}">
        </div>

        <div class="col-md-8">
            <div class="d-flex align-items-center gap-2 mb-1">
                <h2 class="mb-0">{{ bug.name }}</h2>
                {% if bug.is_active %}<span class="badge bg-success">Active</span>{% endif %}
                <span class="badge
                    {% if bug.type == 'FIRE' %}bg-danger
                    {% elif bug.type == 'WATER' %}bg-primary
                    {% elif bug.type == 'EARTH' %}bg-warning text-dark
                    {% elif bug.type == 'GRASS' %}bg-success
                    {% endif %}">
                    {{ bug.get_type_display }}
                </span>
            </div>


            <p class="text-muted mb-3">ğŸ“ {{ bug.natural_habitat|default:'No habitat' }}</p>


            <p class="mb-4">{{ bug.description }}</p>

            <h5>Stats</h5>
            <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item d-flex justify-content-between">
                    <span>â¤ï¸ Health Points</span><strong>{{ bug.max_health_points }}</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>ğŸ›¡ï¸ Armor</span><strong>{{ bug.armor }}</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>âš”ï¸ Strength</span><strong>{{ bug.strength }}</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>ğŸ’¨ Mobility</span><strong>{{ bug.mobility }}</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>ğŸ’š Healing Factor</span><strong>{{ bug.healing_factor }}</strong>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>âš¡ Total Power</span><strong>{{ bug.total_power }}</strong>
                </li>
            </ul>

            {% if bug.is_active %}
                <button class="btn btn-success w-100" disabled>âœ” Currently Active</button>
            {% else %}
                <a href="{% url 'bugs:change_active' bug.pk %}" class="btn btn-outline-success w-100">
                    Activate this Bug
                </a>
            <a href="{% url 'bugs:change_active' bug.pk %}" class="btn btn-outline-success w-100">
                    Activate this Bug
                </a>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}
